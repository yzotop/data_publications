---
link: https://habr.com/ru/articles/822793/
code_language:
  - python
tags:
  - data
source: habr
---

## –í–≤–µ–¥–µ–Ω–∏–µ

–í —Å—Ä–µ–¥–µ –ø–∏—Ç–æ–Ω–∏—Å—Ç–æ–≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ Pandas –ø–æ–ª—å–∑—É–µ—Ç—Å—è –±–æ–ª—å—à–æ–π –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç—å—é –∏ –ø–æ –±–æ–ª—å—à–µ–π –º–µ—Ä–µ –∏–∑–≤–µ—Å—Ç–Ω–∞ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ DataSciense –∏ –∞–Ω–∞–ª–∏–∑–∞ –¥–∞–Ω–Ω—ã—Ö. –ö–∞–∫ —Å–ª–µ–¥—É–µ—Ç –∏–∑ —Ä—É—Å—Å–∫–æ—è–∑—ã—á–Ω–æ–π –≤–∏–∫–∏–ø–µ–¥–∏–∏: "**pandas**¬†‚Äî —ç—Ç–æ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –Ω–∞ —è–∑—ã–∫–µ Python –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏ –∞–Ω–∞–ª–∏–∑–∞ –¥–∞–Ω–Ω—ã—Ö." –ù–∞–≤–µ—Ä–Ω–æ–µ, –Ω–∏ –æ–¥–∏–Ω Jupyter –Ω–æ—É—Ç–±—É–∫ –Ω–µ –æ–±—Ö–æ–¥–∏—Ç—Å—è –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞–Ω–¥–æ—Å–æ–≤—Å–∫–∏—Ö DataFrame'–æ–≤. –ù–∞ —Å–∞–º–æ–º –¥–µ–ª–µ, DataFrame –ø–∞–Ω–¥–∞—Å –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–µ —Ç–æ–ª—å–∫–æ –≤—Å—è—á–µ—Å–∫–∏ –º–∞–Ω–∏–ø—É–ª–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–º–∏, –Ω–æ –∏ –≤—ã–≤–æ–¥–∏—Ç—å –∏—Ö –≤ –Ω—É–∂–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—è —à–∏—Ä–æ–∫–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏–∏. –ù–∞–ø—Ä–∏–º–µ—Ä, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ –ª–∏ –≤—ã –æ–±—ä–µ–∫—Ç—ã –∫–ª–∞—Å—Å–∞¬†`Styler`, –≤—Ö–æ–¥—è—â–µ–≥–æ –≤ —Å–æ—Å—Ç–∞–≤ Pandas? –ú–Ω–µ –ø–æ–∫–∞–∑–∞–ª–æ—Å—å –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–º –≤–∑–≥–ª—è–Ω—É—Ç—å –Ω–∞ Pandas —Å —ç—Ç–æ–π —Å—Ç–æ—Ä–æ–Ω—ã.

–ù–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ –æ—á–µ–Ω—å –º–Ω–æ–≥–∏–µ –±–∏–∑–Ω–µ—Å-–∑–∞–¥–∞—á–∏ –ø–æ–¥—Ä–∞–∑—É–º–µ–≤–∞—é—Ç —Ä–∞–±–æ—Ç—É —Å –¥–≤—É–º–µ—Ä–Ω—ã–º–∏ –º–∞—Å—Å–∏–≤–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏, –ø—Ä–æ—â–µ –≥–æ–≤–æ—Ä—è, —Ç–∞–±–ª–∏—Ü–∞–º–∏. –ö–∞–∫ —Å–ª–µ–¥—Å—Ç–≤–∏–µ, –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç—å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—Ç—å —Ç–∞–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –≤ —É–¥–æ–±–Ω–æ–º –¥–ª—è –≤–æ—Å–ø—Ä–∏—è—Ç–∏—è –≤–∏–¥–µ. –ü–æ—ç—Ç–æ–º—É –±—É–¥–µ—Ç –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ –ø–æ–≥–æ–≤–æ—Ä–∏—Ç—å –æ –ø–æ–¥—Ö–æ–¥–∞—Ö –∫ server-side —Ä–µ–Ω–¥–µ—Ä–µ–Ω–≥—É —Ç–∞–±–ª–∏—Ü –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ Python.

–ê–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω–æ–π —Ç–µ–º–µ –¥–æ–±–∞–≤–ª—è–µ—Ç —Ç–æ—Ç —Ñ–∞–∫—Ç, —á—Ç–æ –ø–æ–¥–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –¥–æ–≤–æ–ª—å–Ω–æ –º–∞–ª–æ –∫–∞–∫ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ, —Ç–∞–∫ –∏ –≤ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–π –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–µ (–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ —Ç–∞–±–ª–∏—Ü –≤ html –Ω–µ —É–ø–æ–º–∏–Ω–∞–µ—Ç—Å—è –∏ –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–π –≤—ã—à–µ¬†[—Å—Ç–∞—Ç—å–µ](https://ru.wikipedia.org/wiki/Pandas)¬†–≤–∏–∫–∏–ø–µ–¥–∏–∏).

## –ü—Ä–æ–±–ª–µ–º–∞

–ú—ã —Ö–æ—Ç–∏–º –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –∏–º–µ—é—â–∏–µ—Å—è –¥–∞–Ω–Ω—ã–µ –≤ –≤–∏–¥–µ html —Ç–∞–±–ª–∏—Ü—ã.

–ß–∞—Å—Ç–æ –æ–¥–Ω–∏ –∏ —Ç–µ –∂–µ –¥–∞–Ω–Ω—ã–µ –Ω—É–∂–Ω–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å –≤ —Ä–∞–∑–Ω—ã—Ö –≤–∞—Ä–∏–∞—Ü–∏—è—Ö, –Ω–∞–ø—Ä–∏–º–µ—Ä, –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Å–∞–π—Ç–∞, –≤ email —Å–æ–æ–±—â–µ–Ω–∏–∏ –∏–ª–∏ —Ñ–æ—Ä–º–∞—Ç–µ Excel. –†–∞–±–æ—Ç–∞—è –Ω–∞–¥ –æ–¥–Ω–∏–º –∏–∑ –ø—Ä–æ—à–ª—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤, —è —Å—Ç–æ–ª–∫–Ω—É–ª—Å—è —Å —Ç—Ä—É–¥–Ω–æ-–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–º–∏, —Ç–æ–ª—Å—Ç—ã–º–∏ —à–∞–±–ª–æ–Ω–∞–º–∏ –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–¥–µ—Ä–∂–∞–ª–∏ html —Ä–∞–∑–º–µ—Ç–∫—É –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–∞–±–ª–∏—Ü —Å –±–æ–ª—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –¥–∞–Ω–Ω—ã—Ö. –ö —Ç–æ–º—É –∂–µ html —à–∞–±–ª–æ–Ω—ã –º–æ–≥–ª–∏ –∏–º–µ—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ –≤–∞—Ä–∏–∞—Ü–∏–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –∏ —Ç.–¥. –¢–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ –≤—ã–∑—ã–≤–∞–µ—Ç —Ç—Ä—É–¥–Ω–æ—Å—Ç–∏ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ç–∞–±–ª–∏—Ü—ã –∏–ª–∏ –¥–∞–Ω–Ω—ã—Ö.

_–í—Å–µ –ø–æ—Å–ª–µ–¥—É—é—â–∏–µ –º–∞–Ω–∏–ø—É–ª—è—Ü–∏–∏ –±—É–¥–µ–º –ø—Ä–æ–≤–æ–¥–∏—Ç—å –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ Django. –í –∫–∞—á–µ—Å—Ç–≤–µ –∞–¥–∞–ø—Ç–µ—Ä–∞ –ë–î –∏–º–µ–µ—Ç—Å—è –º–æ–¥–µ–ª—å_¬†`Customer`, –≤ –∫–∞—á–µ—Å—Ç–≤–µ http –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –∏–º–µ–µ–º -¬†`CustomerListView`. –ö–æ–¥ –ø—Ä–æ–µ–∫—Ç–∞ —Å –Ω–∞—á–∞–ª—å–Ω—ã–º–∏ —É—Å–ª–æ–≤–∏—è–º–∏ –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ GitHub -¬†[commit# 8fdf785](https://github.com/kosdmit/pandas_as_table_renderer/tree/8fdf785e0e715329d7390cae17c68b23cf8562a0).

–†–µ—à–µ–Ω–∏–µ –≤ –ª–æ–± - –ø–µ—Ä–µ–¥–∞—Ç—å –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏—Ç–µ—Ä–∏—Ä—É–µ–º—ã–π –æ–±—ä–µ–∫—Ç, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π —Å—Ç—Ä–æ–∫–∏ –¥–∞–Ω–Ω—ã—Ö, –∏ —Å—Ä–µ–¥—Å—Ç–≤–∞–º–∏ —à–∞–±–ª–æ–Ω–∏–∑–∞—Ç–æ—Ä–∞ –∏—Ç–µ—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –ø–æ –Ω–µ–º—É —Ñ–æ—Ä–º–∏—Ä—É—è html –∫–æ–¥ —Ç–∞–±–ª–∏—Ü—ã —Å—Ç—Ä–æ–∫–∞ –∑–∞ —Å—Ç—Ä–æ–∫–æ–π.

‚úÖ –ù–µ —Ç—Ä–µ–±—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫  
‚ùå "–¢–æ–ª—Å—Ç—ã–µ" —à–∞–±–ª–æ–Ω—ã —Ç–∞–±–ª–∏—Ü  
‚ùå –ó–∞—Ç—Ä—É–¥–Ω–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∏ –≤–Ω–µ—Å–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π  
‚ùå –ü–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –¥–æ–±–∞–≤–∏—Ç—å –≤–∞—Ä–∏–∞—Ü–∏—é —Ç–∞–±–ª–∏—Ü—ã (email, Excel –∏ —Ç.–¥.)

## –ò—Å–ø–æ–ª—å–∑—É–µ–º DataFrame

–ü–æ—Å–∫–æ–ª—å–∫—É pandas —É–∂–µ –≤—Ö–æ–¥–∏–ª –≤ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫ –ø—Ä–æ–µ–∫—Ç–∞, –±—ã–ª–æ –ø—Ä–∏–Ω—è—Ç–æ —Ä–µ—à–µ–Ω–∏–µ –∑–∞–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —ç—Ç—É –±–∏–±–ª–∏–æ—Ç–µ–∫—É –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ —Ç–∞–±–ª–∏—Ü –≤ html.

DataFrame - —ç—Ç–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ Pandas –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ç–∞–±–ª–∏—Ü—ã –∏ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π –Ω–∞–¥ –Ω–µ–∏ÃÜ. –°–æ–∑–¥–∞–¥–∏–º –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç DataFrame, –ø–µ—Ä–µ–¥–∞–≤ –Ω—É–∂–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∫–ª–∞—Å—Å–∞, –∏ –æ—Ç—Ä–µ–Ω–¥–µ—Ä–∏–º html –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞–≤—à–∏—Å—å –º–µ—Ç–æ–¥–æ–º –¥–∞—Ç–∞—Ñ—Ä–µ–π–º–∞ -¬†`to_html()`:

```
# views.pyclass CustomerListView(ListView):    model = Customer    paginate_by = 10    def get_context_data(self, *, object_list=None, **kwargs):        context = super().get_context_data(**kwargs)        context['table'] = self.get_html_table(context['object_list'])        return context    def get_html_table(self, object_list: QuerySet):        df = pd.DataFrame(            data=object_list.values_list(),            columns=[field.verbose_name for field in object_list.model._meta.get_fields()],        )        return df.to_html()
```

–ú–µ—Ç–æ–¥¬†`get_html_table()`¬†–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç html –∫–æ–¥ —Ç–∞–±–ª–∏—Ü—ã, –ø—Ä–∏–Ω–∏–º–∞—è –Ω–∞ –≤—Ö–æ–¥ –æ–±—ä–µ–∫—Ç —Ç–∏–ø–∞ QuerySet -¬†`object_list`¬†–∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ ListView Django.

–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∫–ª–∞—Å—Å–∞ DataFrame –º–æ–∂–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –∏—Ç–µ—Ä–∏—Ä—É–µ–º—ã–π –æ–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏ —Å–ø–∏—Å–æ–∫ –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–π —Å—Ç–æ–ª–±—Ü–æ–≤.  
–ü–æ—ç—Ç–æ–º—É –ø–µ—Ä–µ–¥–∞—ë–º –¥–∞–Ω–Ω—ã–µ –≤ DataFrame, –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞–≤—à–∏—Å—å –º–µ—Ç–æ–¥–æ–º QuerySet.values_list() –¥–ª—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ –ë–î –≤ –≤–∏–¥–µ –∫–æ—Ä—Ç–µ–∂–µ–π —Å–æ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –∞—Ç—Ä–∏–±—É—Ç–æ–≤ –æ–±—ä–µ–∫—Ç–∞.

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –º—ã –ø–æ–ª—É—á–∏–ª–∏ html —Ç–∞–±–ª–∏—Ü—É, –Ω–∞–ø–∏—Å–∞–≤ –º–∏–Ω–∏–∞—Ç—é—Ä–Ω—ã–π –º–µ—Ç–æ–¥, —Å–æ—Å—Ç–æ—è—â–∏–π –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞. –•–æ—Ç—è —Å—Ç–æ–∏—Ç –æ—Ç–º–µ—Ç–∏—Ç—å, —á—Ç–æ –≤ —Ç–∞–∫–æ–º –≤–∏–¥–µ —Ç–∞–±–ª–∏—Ü–∞ –Ω–µ –±—É–¥–µ—Ç –∏–º–µ—Ç—å –∫–∞–∫–æ–π-–ª–∏–±–æ —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏. –£–±–µ–¥–∏–º—Å—è –≤ —ç—Ç–æ–º, –¥–æ–±–∞–≤–∏–≤ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π html –≤ —à–∞–±–ª–æ–Ω —Å—Ç—Ä–∞–Ω–∏—Ü—ã, –∏ –≤–∑–≥–ª—è–Ω–µ–º –Ω–∞ –Ω–µ—ë:

```
# customer_list.html

{% extends 'base.html' %}

{% block content %}
  <div class="col-6">
    {{ table|safe }}
  </div>
{% endblock %}
```

![–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ 1. –¢–∞–±–ª–∏—Ü–∞ –±–µ–∑ —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏](https://habrastorage.org/getpro/habr/upload_files/4f9/4bf/7b4/4f94bf7b482c469742b7a833a72f69c4.PNG)

–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ 1. –¢–∞–±–ª–∏—Ü–∞ –±–µ–∑ —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏

_–ö–æ–¥ –ø—Ä–æ–µ–∫—Ç–∞ –∏–∑ —ç—Ç–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞ –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ GitHub -_¬†[_commit# 2005e31_](https://github.com/kosdmit/pandas_as_table_renderer/tree/2005e31e9314ce67bda388aca7240ac85474d8d9)_._

## –ò—Å–ø–æ–ª—å–∑—É–µ–º —Å—Ä–µ–¥—Å—Ç–≤–∞ —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏

–ù–∞ —Å–∞–º–æ–º –¥–µ–ª–µ –º–µ—Ç–æ–¥¬†`DataFrame.to_html`¬†–º–æ–∂–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π –ø–µ—Ä–µ—á–µ–Ω—å –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è —É–¥–æ–±–æ—á–∏—Ç–∞–µ–º–æ—Å—Ç–∏ —Ç–∞–±–ª–∏—Ü—ã –Ω–∞ –≤—ã—Ö–æ–¥–µ. –ù–∞–ø—Ä–∏–º–µ—Ä, –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —à–∏—Ä–∏–Ω—É –≥—Ä–∞–Ω–∏—Ü —è—á–µ–µ–∫, –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–∞, –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—É—Å—Ç—ã—Ö —è—á–µ–µ–∫, –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–π —Å—Ç–æ–ª–±—Ü–æ–≤ –∏ —Ç.–¥. (—Å –ø–æ–ª–Ω—ã–º –ø–µ—Ä–µ—á–Ω–µ–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π –º–æ–∂–Ω–æ –æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ –≤¬†[–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏](https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.to_html.html)).

```
# views.py# def get_html_table(queryset):return df.to_html(            classes='table table-striped table-hover',            border=0,            index=False,            na_rep='-',            justify='left',            columns=(                Customer.id.field.verbose_name,                Customer.status.field.verbose_name,                Customer.name.field.verbose_name,                Customer.source.field.verbose_name,                Customer.target_volume.field.verbose_name,                Customer.problematic.field.verbose_name,            ),        )
```

–ê—Ä–≥—É–º–µ–Ω—Ç¬†`columns`¬†–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º—ã–µ —Å—Ç–æ–ª–±—Ü—ã —Ç–∞–±–ª–∏—Ü—ã, —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–∏–Ω —ç–∫–∑–µ–º–ø–ª—è—Ä DataFrame –≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏—è—Ö –≤—ã–≤–æ–¥–∞, –∫–æ–≥–¥–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ç–∞–±–ª–∏—Ü—ã –≤ email).

–° –ø–æ–º–æ—â—å—é –∞—Ä–≥—É–º–µ–Ω—Ç–∞¬†`classes`¬†–º–æ–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å css –∫–ª–∞—Å—Å—ã html —ç–ª–µ–º–µ–Ω—Ç–∞¬†`<table>`¬†–∏ –≥–∏–±–∫–æ —É–ø—Ä–∞–≤–ª—è—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º —Ç–∞–±–ª–∏—Ü—ã —Å –ø–æ–º–æ—â—å—é css-–ø—Ä–∞–≤–∏–ª. –í –ø—Ä–∏–≤–µ–¥—ë–Ω–Ω–æ–º –ø—Ä–∏–º–µ—Ä–µ —è –∏—Å–ø–æ–ª—å–∑—É—é –≥–æ—Ç–æ–≤—ã–µ —Å—Ç–∏–ª–∏ css-–±–∏–±–ª–∏–æ—Ç–µ–∫–∏ Bootstrap 5 –¥–ª—è –±—ã—Å—Ç—Ä–æ–π —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏ —Ç–∞–±–ª–∏—Ü—ã. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å–æ–æ—Ç–≤—Ç–≤–µ—Ç—Å–≤—É—é—â–∏–π —Å—Ç–∏–ª—é –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞.

![–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ 2. –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è —Ç–∞–±–ª–∏—Ü—ã](https://habrastorage.org/getpro/habr/upload_files/d3f/ff7/b61/d3fff7b61c427d1d1e623ff57274795b.PNG)

–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ 2. –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è —Ç–∞–±–ª–∏—Ü—ã

‚úÖ –õ–æ–≥–∏–∫–∞ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –æ–±—ä–µ–∫—Ç–æ–≤ –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä–µ—Ç—Å—è –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –∫–ª–∞—Å—Å—ã  
‚úÖ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ç–∞–±–ª–∏—Ü –±–µ–∑ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è html —à–∞–±–ª–æ–Ω–æ–≤  
‚ùå –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∫–æ–Ω—Ç—Ä–æ–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ html –∏ —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏

_–ö–æ–¥ –ø—Ä–æ–µ–∫—Ç–∞ –∏–∑ —ç—Ç–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞ –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ GitHub -_¬†[_commit# 8108dd0_](https://github.com/kosdmit/pandas_as_table_renderer/tree/8108dd08aa063fca0ae7b1b7eb9e70416357704a)_._

## –ò—Å–ø–æ–ª—å–∑—É–µ–º Styler

–í –ø—Ä–µ–¥—ã–¥—É—â–µ–º —Ä–∞–∑–¥–µ–ª–µ –º—ã –ø–æ–ª—É—á–∏–ª–∏ html –∫–æ–¥, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å —É–¥–æ–±–æ—á–∏—Ç–∞–µ–º—É—é —Ç–∞–±–ª–∏—Ü—É. –ù–æ —á–∞—â–µ –≤—Å–µ–≥–æ –∑–∞–¥–∞—á–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Ç—Ä–µ–±—É—é—Ç –±–æ–ª–µ–µ —à–∏—Ä–æ–∫–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è –Ω–∞–¥ –ø—Ä–æ—Ü–µ—Å—Å–æ–º server-side —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞.

–ö–ª–∞—Å—Å Styler - —ç—Ç–æ –∏–Ωc—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –≥–∏–±–∫–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è –Ω–∞–¥ –ø—Ä–æ—Ü–µ—Å—Å–æ–º —ç–∫—Å–ø–æ—Ä—Ç–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä –¥–∞–Ω–Ω—ã—Ö Pandas –≤ —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç—ã. –ü–æ–º–∏–º–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ html, –∫–ª–∞—Å—Å Styler –ø–æ–∑–≤–æ–ª—è–µ—Ç —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ —Ñ–æ—Ä–º–∞—Ç Excel –∏ –¥—Ä. –≠—Ç–æ –≤–µ—Å—å–º–∞ —É–¥–æ–±–Ω–æ, –≤–µ–¥—å –≤ –ø—Ä–∞–∫—Ç–∏–∫–µ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –±–∏–∑–Ω–µ—Å-–∑–∞–¥–∞—á —á–∞—Å—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∫–∞–∫ –≤ html —Ç–∞–∫ –∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ xlsx –∏ –¥—Ä.

```
# views.py# class CustomerListView(ListView):def get_html_table(queryset: QuerySet) -> str:    df = pd.DataFrame(        data=queryset.values_list(),        columns=[field.verbose_name for field in queryset.model._meta.get_fields()],    )    columns = ('id', 'status', 'name', 'source', 'target_volume', 'problematic')  # –°–ø–∏—Å–æ–∫ –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º—ã—Ö —Å—Ç–æ–ª–±—Ü–æ–≤    styler = Styler(df)    styler.format(na_rep='-')    styler.hide(axis='index')    styler.hide(        subset=[field.verbose_name for field in Customer._meta.get_fields() if field.name not in columns],        axis='columns',    )    return styler.to_html(table_attributes='class="table table-striped table-hover"')
```

–û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π –º–µ—Ç–æ–¥ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–¥–µ–Ω—Ç–∏—á–Ω—É—é —Ç–∞–±–ª–∏—Ü—É, –Ω–æ –º–æ–∂–µ—Ç –ø–æ–∫–∞–∑–∞—Ç—å—Å—è –Ω–µ–º–Ω–æ–≥–æ –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–º –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å —Ç–µ–º, —á—Ç–æ –º—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ —Ä–∞–Ω–µ–µ. –ù–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —ç—Ç–æ, —Ç–∞–∫–æ–π –≤–∞—Ä–∏–∞–Ω—Ç —è–≤–ª—è–µ—Ç—Å—è –±–æ–ª–µ–µ –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω—ã–º, —Ç.–∫. –¥–∞—ë—Ç –Ω–∞–º–Ω–æ–≥–æ –±–æ–ª—å—à–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π –∫–æ–Ω—Ç—Ä–æ–ª—è, –≤ —á—ë–º –º—ã —É–±–µ–¥–∏–º—Å—è –¥–∞–ª–µ–µ.

–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∫–ª–∞—Å—Å–∞ Styler –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –≤ –∫–∞—á–µ—Å—Ç–≤–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–≥–æ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ DataFrame Pandas. –ü–æ—Å–ª–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –æ–±—ä–µ–∫—Ç –∫–ª–∞—Å—Å–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —à–∏—Ä–æ–∫–∏–π –Ω–∞–±–æ—Ä –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏. C –ø–æ–ª–Ω—ã–º –ø–µ—Ä–µ—á–Ω–µ–º –º–µ—Ç–æ–¥–æ–≤ –∫–ª–∞—Å—Å–∞ Styler –≤—ã –º–æ–∂–µ—Ç–µ –æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–º —Ä–∞–∑–¥–µ–ª–µ¬†[–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏](https://pandas.pydata.org/docs/reference/api/pandas.io.formats.style.Styler.html).

‚úÖ –õ–æ–≥–∏–∫–∞ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –æ–±—ä–µ–∫—Ç–æ–≤ –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä–µ—Ç—Å—è –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –∫–ª–∞—Å—Å—ã  
‚úÖ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ç–∞–±–ª–∏—Ü –±–µ–∑ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è html —à–∞–±–ª–æ–Ω–æ–≤  
üü® –®–∏—Ä–æ–∫–∏–µ, –Ω–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∫–æ–Ω—Ç—Ä–æ–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ html –∏ —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏

_–ö–æ–¥ –ø—Ä–æ–µ–∫—Ç–∞ –∏–∑ —ç—Ç–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞ –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ GitHub -_¬†[_commit# 8ad47cc_](https://github.com/kosdmit/pandas_as_table_renderer/tree/8ad47cc3b87b4426cd08bce1878994863652ba6c)_._

## –ü—Ä–µ–ø–∞—Ä–∏—Ä—É–µ–º Styler

–ú—ã –¥–æ—Å—Ç–∏–≥–ª–∏ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –≤ –¥–µ–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø–æ–¥—Ö–æ–¥–∞ –∫ —Ä–µ–Ω–¥–µ—Ä–µ–Ω–≥—É —Ç–∞–±–ª–∏—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ html. –ê —Ç–µ–ø–µ—Ä—å –ø–µ—Ä–µ—Ö–æ–¥–∏–º –∫ –Ω–∞–∏–±–æ–ª–µ–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–π —á–∞—Å—Ç–∏, –≤ –∫–æ—Ç–æ—Ä–æ–π –º—ã –Ω–µ–º–Ω–æ–≥–æ –ø–æ–≥—Ä—É–∑–∏–º—Å—è –≤ –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ Pandas.

–ü–µ—Ä–µ–¥ —ç—Ç–∏–º –ø–æ—Å—Ç–∞–≤–∏–º –∑–∞–¥–∞—á—É - –æ—Ç—Ä–µ–Ω–¥–µ—Ä–∏—Ç—å —á—É—Ç—å –±–æ–ª–µ–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—É—é html-—Ç–∞–±–ª–∏—Ü—É. –°–¥–µ–ª–∞–µ–º —Ç–∞–∫, —á—Ç–æ–±—ã –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ —Å—Ç—Ä–æ–∫—É —Ç–∞–±–ª–∏—Ü—ã, –∫–æ—Ç–æ—Ä–∞—è –ø–æ —Å—É—Ç–∏ —è–≤–ª—è–µ—Ç—Å—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ–º –æ–±—ä–µ–∫—Ç–∞ ORM, –æ—Ç–∫—Ä—ã–≤–∞–ª–∞—Å—å —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ–± –æ–±—ä–µ–∫—Ç–µ.

–ü–æ–¥ –∫–∞–ø–æ—Ç–æ–º Pandas –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –¥–ª—è –∏–Ω–¥—É—Å—Ç—Ä–∏–∏ –ø–æ–¥—Ö–æ–¥ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø–æ–ø—É–ª—è—Ä–Ω–æ–≥–æ —à–∞–±–ª–æ–Ω–∏–∑–∞—Ç–æ—Ä–∞ Jinja2. –ü–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ —à–∞–±–ª–æ–Ω—ã Jinja2 –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–µ—Å—è –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–µ–Ω–≥–∞ html. –®–∞–±–ª–æ–Ω—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –¥–ª—è –≤—ã–≤–æ–¥–∞ –¥–∞–Ω–Ω—ã—Ö —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –º–æ–¥—É–ª–µ Pandas¬†`io.formats`, –ø–∞–ø–∫–∞¬†`templates`. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–∏–π –Ω–∞—Å —à–∞–±–ª–æ–Ω¬†`html_table.tpl`¬†–º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –≤ —Å–ª–µ–¥—É—é—â–µ–π –¥–∏—Ä–∫—Ç–æ—Ä–∏–∏:`Pyhton/Lib/site-packages/pandas/io/formats/templates/html_table.tpl`, –≥–¥–µ¬†`Python`¬†- –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤–∞—à–µ–≥–æ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–∞ Python.

```
# venv/Lib/site-packages/pandas/io/formats/templates/html_table.tpl

...
{% block tr scoped %}
    <tr>
{% if exclude_styles %}
{% for c in r %}{% if c.is_visible != False %}
      <{{c.type}} {{c.attributes}}>{{c.display_value}}</{{c.type}}>
{% endif %}{% endfor %}
{% else %}
{% for c in r %}{% if c.is_visible != False %}
      <{{c.type}} {%- if c.id is defined %} id="T_{{uuid}}_{{c.id}}" {%- endif %} class="{{c.class}}" {{c.attributes}}>{{c.display_value}}</{{c.type}}>
{% endif %}{% endfor %}
{% endif %}
    </tr>
{% endblock tr %}
...
```

–î–ª—è –∫—Ä–∞—Ç–∫–æ—Å—Ç–∏, –≤—ã—à–µ –ø—Ä–∏–≤–µ–¥—ë–Ω —Ç–æ–ª—å–∫–æ —Ñ—Ä–∞–≥–º–µ–Ω—Ç —Ñ–∞–π–ª–∞¬†`html_table.tpl`¬†–æ—Ç–≤–µ—á–∞—é—â–∏–π –∑–∞ —Ä–µ–Ω–¥–µ—Ä —ç–ª–µ–º–µ–Ω—Ç–∞¬†`<tr>`. –ò–º–µ–Ω–Ω–æ —Å —ç—Ç–∏–º –±–ª–æ–∫–æ–º –Ω–∞–º –ø—Ä–µ–¥—Å—Ç–æ–∏—Ç –ø–æ—Ä–∞–±–æ—Ç–∞—Ç—å, –µ—Å–ª–∏ –º—ã —Ö–æ—Ç–∏–º —Å–¥–µ–ª–∞—Ç—å —Å—Ç—Ä–æ–∫–∏ —Ç–∞–±–ª–∏—Ü—ã –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–º–∏. –ò–∑ –ø—Ä–∏–≤–µ–¥—ë–Ω–Ω–æ–≥–æ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞ –≤–∏–¥–Ω–æ, —á—Ç–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ Pandas –Ω–µ –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä—è–º–æ –¥–æ–±–∞–≤–ª—è—Ç—å –∞—Ç—Ä–∏–±—É—Ç—ã –¥–ª—è html-—ç–ª–µ–º–µ–Ω—Ç–∞¬†`<tr>`, –ø–æ—ç—Ç–æ–º—É –Ω–∞–º –ø—Ä–µ–¥—Å—Ç–æ–∏—Ç —Å–æ–∑–¥–∞—Ç—å —Å–≤–æ–π —à–∞–±–ª–æ–Ω¬†`html_table.tpl`¬†—Ä–∞—Å—à–∏—Ä—è—é—â–∏–π —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∏, –∏—Å–ø–æ–ª—å–∑—É—è –º–µ—Ö–∞–Ω–∏–∑–º –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è —à–∞–±–ª–æ–Ω–æ–≤ Jinja2, –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –±–ª–æ–∫¬†`{% block tr scoped %}`:

```
# sales/templates/pandas/html_table.tpl

{% extends 'venv/Lib/site-packages/pandas/io/formats/templates/html_table.tpl' %}

{% block tr scoped %}
    <tr {{ tr_attributes }}> <!-- customized element -->
{% if exclude_styles %}
{% for c in r %}{% if c.is_visible != False %}
      <{{c.type}} {{c.attributes}}>{{c.display_value}}</{{c.type}}>
{% endif %}{% endfor %}
{% else %}
{% for c in r %}{% if c.is_visible != False %}
      <{{c.type}} {%- if c.id is defined %} id="T_{{uuid}}_{{c.id}}" {%- endif %} class="{{c.class}}" {{c.attributes}}>{{c.display_value}}</{{c.type}}>
{% endif %}{% endfor %}
{% endif %}
    </tr>
{% endblock tr %}

{% block after_table %}
  {{ super() }}
  <script>
    function openDetailView($tr) {
      let pk = $tr.find('td.col0').text();
      window.location = `/sales/customer/${pk}/detail`;
    }
  </script>
{% endblock after_table %}
```

–ù–æ–≤—ã–π —à–∞–±–ª–æ–Ω¬†`html_table.tpl`¬†—Ä–∞—Å—à–∏—Ä—è–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —à–∞–±–ª–æ–Ω Pandas. –ë–ª–æ–∫¬†`{% block tr scoped %}`¬†–ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π –±–ª–æ–∫ –∏–∑ —Å—Ç–∞–Ω–¥–∞—Ä–Ω–æ–≥–æ —à–∞–±–ª–æ–Ω–∞ –∏ –¥–∞—ë—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–æ–±–∞–≤–ª—è—Ç—å –∞—Ç—Ä–∏–±—É—Ç—ã –¥–ª—è html-—ç–ª–µ–º–µ–Ω—Ç–∞¬†`<tr>`¬†–ø–µ—Ä–µ–¥–∞–≤–∞—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞. –î–∞–ª–µ–µ –º—ã –¥–æ–±–∞–≤–ª—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é JavaScript, –∫–æ—Ç–æ—Ä–∞—è –¥–æ–ª–∂–Ω–∞ –≤—ã–∑—ã–≤–∞—Ç—å—Å—è –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ —Å—Ç—Ä–æ–∫—É —Ç–∞–±–ª–∏—Ü—ã –∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É.

–¢–µ–ø–µ—Ä—å —Å–æ–∑–¥–∞–¥–∏–º –∫–∞—Å—Ç–æ–º–Ω—ã–π –∫–ª–∞—Å—Å-—Å—Ç–∞–π–ª–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–æ–≤—ã–π —à–∞–±–ª–æ–Ω, –∏ –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏–º –∞—Ç—Ä–∏–±—É—Ç¬†`onclick`¬†—ç–ª–µ–º–µ–Ω—Ç–∞¬†`<tr>`:

```
# views.py# class CustomerListView(ListView):def get_html_table(queryset: QuerySet) -> str:    df = pd.DataFrame(        data=queryset.values_list(),        columns=[field.verbose_name for field in queryset.model._meta.get_fields()],    )    columns = ('id', 'status', 'name', 'source', 'target_volume', 'problematic')  # –°–ø–∏—Å–æ–∫ –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º—ã—Ö —Å—Ç–æ–ª–±—Ü–æ–≤    CustomStyler = Styler.from_custom_template(        searchpath=BASE_DIR,        html_table='sales/templates/pandas/html_table.tpl'    )    styler = CustomStyler(df)    styler.format(na_rep='-')    styler.hide(axis='index')    styler.hide(        subset=[field.verbose_name for field in Customer._meta.get_fields() if field.name not in columns],        axis='columns',    )    return styler.to_html(        table_attributes='class="table table-striped table-hover"',        tr_attributes=f'onclick="openDetailView($(this))" style="cursor:pointer;"',    )
```

–ö–ª–∞—Å—Å¬†`Styler`¬†–ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –º–µ—Ç–æ–¥ -¬†`from_custom_template()`, –∫–æ—Ç–æ—Ä—ã–π –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–≤—ã–π –∫–ª–∞—Å—Å -¬†`MyStyler`. –ù–æ–≤—ã–π –∫–ª–∞—Å—Å –Ω–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ¬†`Styler`, –Ω–æ –æ–±–ª–∞–¥–∞–µ—Ç –∞—Ç—Ä–∏–±—É—Ç–∞–º–∏ –∫–ª–∞—Å—Å–∞ –æ–ø—Ä–µ–¥–µ–ª—è—é—â–∏–º–∏ –∫–∞—Å—Ç–æ–º–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –∏ —à–∞–±–ª–æ–Ω—ã Jinja2.

–¢–µ–ø–µ—Ä—å —Å—Ç–∞–π–ª–µ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –Ω–æ–≤—ã–π —à–∞–±–ª–æ–Ω, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é¬†`tr_attributes`, –ø–µ—Ä–µ–¥–∞—ë–º –µ–µ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç —à–∞–±–ª–æ–Ω–∏–∑–∞—Ç–æ—Ä–∞ —á–µ—Ä–µ–∑ –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–π –∞—Ä–≥—É–º–µ–Ω—Ç –º–µ—Ç–æ–¥–∞¬†`Styler.to_html()`.

–ò—Å–ø–æ–ª—å–∑—É—è –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é¬†`tr_attributes`¬†–º—ã –¥–æ–±–∞–≤–ª—è–µ–º –∞—Ç—Ä–∏–±—É—Ç—ã¬†`onclick`¬†–∏¬†`style`¬†–≤—Å–µ–º —ç–ª–µ–º–µ–Ω—Ç–∞–º¬†`<tr>`¬†–Ω–∞—à–µ–π —Ç–∞–±–ª–∏—Ü—ã.

–ü–µ—Ä–≤—ã–π –∞—Ç—Ä–∏–±—É—Ç –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ –±—Ä–∞—É–∑–µ—Ä–∞ –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ —Å—Ç—Ä–æ–∫—É. –í –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —É–ø–æ–º—è–Ω—É—Ç–∞—è –≤—ã—à–µ —Ñ—É–Ω–∫—Ü–∏—è -¬†`openDetailView($tr)`. –ü—Ä–∏ —ç—Ç–æ–º –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è —Å–∞–º DOM-–æ–±—ä–µ–∫—Ç, –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –æ–±—ë—Ä–Ω—É—Ç—ã–π –≤ jQuery-—Å–µ–ª–µ–∫—Ç–æ—Ä (—è –∏—Å–ø–æ–ª—å–∑—É—é JavaScript –±–∏–±–ª–∏–æ—Ç–µ–∫—É jQuery –¥–ª—è –∫—Ä–∞—Ç–∫–æ—Å—Ç–∏ –∏ –ø–æ–≤—ã—à–µ–Ω–∏—è —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏ –∫–æ–¥–∞, —Ö–æ—Ç—è —ç—Ç–æ –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ).

–ê—Ç—Ä–∏–±—É—Ç¬†`style`, –≤ –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ, –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ —É–∫–∞–∑–∞—Ç–µ–ª—è –º—ã—à–∏ –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –Ω–∞ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç.

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –º—ã –¥–æ—Å—Ç–∏–≥–ª–∏ –∂–µ–ª–∞–µ–º–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞: –∫–ª–∏–∫ –ø–æ —Å—Ç—Ä–æ–∫–µ —Ç–∞–±–ª–∏—Ü—ã –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞—Å –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ–± –æ–±—ä–µ–∫—Ç–µ.

‚úÖ –õ–æ–≥–∏–∫–∞ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –æ–±—ä–µ–∫—Ç–æ–≤ –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä–µ—Ç—Å—è –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –∫–ª–∞—Å—Å—ã  
‚úÖ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ç–∞–±–ª–∏—Ü –±–µ–∑ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è html —à–∞–±–ª–æ–Ω–æ–≤  
‚úÖ –ù–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∫–æ–Ω—Ç—Ä–æ–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ html –∏ —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏

_–ö–æ–¥ –ø—Ä–æ–µ–∫—Ç–∞ –∏–∑ —ç—Ç–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞ –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ GitHub -_¬†[_commit#_](https://github.com/kosdmit/pandas_as_table_renderer/)_._

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–¶–µ–ª—å —ç—Ç–æ–≥–æ –º–∞—Ç–µ—Ä–∏–∞–ª–∞ –ø—Ä–æ–¥–µ–º–æ—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª Pandas, –∫–æ—Ç–æ—Ä—ã–π —á–∞—Å—Ç–æ –æ–±—Ö–æ–¥—è—Ç –≤–Ω–∏–º–∞–Ω–∏–µ–º. –û–ø–∏—Å–∞–Ω–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –æ—Å–æ–±–µ–Ω–Ω–æ —É–¥–æ–±–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–≥–¥–∞ –æ–¥–Ω–∏ –∏ —Ç–µ –∂–µ –¥–∞–Ω–Ω—ã–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—Ç—å —Å—Ä–∞–∑—É –≤ —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–∞—Ö, –≤–µ–¥—å –ø–∞–Ω–¥–æ—Å–æ–≤—Å–∫–∏–π DataFrame, —Å –ø–æ–º–æ—â—å—é –æ–±—ë—Ä—Ç–∫–∏ Styler, —Ç–∞–∫–∂–µ –ª–µ–≥–∫–æ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å, –Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ Excel. –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –ø—Ä–∏–º–µ—Ä—É –æ–ø–∏—Å–∞–Ω–Ω–æ–º—É –≤ —Å—Ç–∞—Ç—å–µ, –º–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –ª—é–±—É—é –∑–∞–¥—É–º–∫—É, –Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–æ–±–∞–≤–∏—Ç—å —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ —Ö–µ–¥–µ—Ä –∏ —Ç.–¥. –•–æ—Ç—è, –≤–æ –º–Ω–æ–≥–∏—Ö —Å–ª—É—á–∞—è—Ö, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π¬†`Styler`.